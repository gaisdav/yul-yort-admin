(this["webpackJsonpyul-yort-admin"]=this["webpackJsonpyul-yort-admin"]||[]).push([[9],{206:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(340),r=a(196),c=a(207),i=a.n(c),o=a(1),s=function(e){var t=e.phones;return Object(o.jsx)(o.Fragment,{children:t&&t.length?t.map((function(e,t){return Object(o.jsx)(n.a,{className:i.a.phone,href:"tel:".concat(e),underline:"none",variant:"subtitle2",align:"left",children:e},e+t)})):Object(o.jsx)(r.a,{className:i.a.phone,variant:"subtitle2",align:"left",color:"text.secondary",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})})}},207:function(e,t,a){e.exports={phone:"styles_phone__1v3IR"}},208:function(e,t,a){"use strict";var n=a(196),r=a(1);t.a=function(e){var t=e.title,a=void 0===t?"\u041e\u0448\u0438\u0431\u043a\u0430":t,c=e.error;return Object(r.jsxs)("div",{children:[Object(r.jsx)(n.a,{variant:"h6",align:"center",color:"error.main",children:a}),Object(r.jsxs)("div",{children:[Object(r.jsx)(n.a,{align:"center",color:"error.main",children:c.name}),Object(r.jsx)(n.a,{align:"center",color:"error.main",children:c.message})]})]})}},211:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(201),r=a(196),c=a(332),i=a(0),o=a(221),s=a.n(o),l=a(109),d=a.n(l),j=a(1),b=Object(i.forwardRef)((function(e,t){var a=e.text,i=void 0===a?"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f?":a,o=e.title,l=e.confirmColor,b=void 0===l?"success":l,u=e.cancelColor,O=void 0===u?"info":u,p=e.cancelText,h=void 0===p?"\u041e\u0442\u043c\u0435\u043d\u0430":p,f=e.confirmText,x=void 0===f?"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c":f,m=e.onCancel,v=e.onConfirm,g=e.className;return Object(j.jsxs)(n.a,{elevation:0,className:d()(s.a.contentWrapper,g),ref:t,children:[Object(j.jsxs)("div",{children:[o&&Object(j.jsx)(r.a,{variant:"h6",component:"h2",children:o}),i&&Object(j.jsx)(r.a,{children:i})]}),Object(j.jsxs)("div",{className:s.a.actions,children:[Object(j.jsx)(c.a,{variant:"text",color:O,onClick:m,"aria-label":"cancel",children:h}),Object(j.jsx)(c.a,{variant:"text",color:b,onClick:v,"aria-label":"confirm",children:x})]})]})}))},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(30),r=a(326),c=a(201),i=a(196),o=a(199),s=a(222),l=a.n(s),d=a(219),j=a.n(d),b=a(211),u=a(339),O=a(1),p=function(e){var t=e.open,a=e.loading,s=void 0!==a&&a,d=e.onClose,p=e.title,h=e.children,f=e.footer,x=e.showConfirm,m=void 0!==x&&x,v=e.confirmProps;return Object(O.jsx)(r.a,{open:t,onClose:d,onBackdropClick:d,className:l.a.modalWrapper,disableEnforceFocus:!0,disableAutoFocus:!0,children:Object(O.jsxs)(c.a,{elevation:0,className:l.a.modalContentWrapper,children:[Object(O.jsxs)("div",{className:l.a.titleWrapper,children:[Object(O.jsx)(i.a,{variant:"h6",component:"h2",children:p}),Object(O.jsx)(o.a,{"aria-label":"close modal",className:l.a.closeButton,onClick:d,children:Object(O.jsx)(j.a,{fontSize:"small"})})]}),Object(O.jsx)("div",{className:l.a.contentWrapper,children:h}),f&&Object(O.jsx)("div",{className:l.a.footerWrapper,children:f}),m&&Object(O.jsx)("div",{className:l.a.confirmWrapper,children:Object(O.jsx)(b.a,Object(n.a)({className:l.a.confirmContainer},v))}),s&&Object(O.jsx)("div",{className:l.a.loadingContainer,children:Object(O.jsx)(u.a,{})})]})})}},215:function(e,t,a){"use strict";var n=a(227),r=a.n(n),c=a(339),i=a(1);t.a=function(){return Object(i.jsx)("div",{className:r.a.wrapper,children:Object(i.jsx)(c.a,{})})}},221:function(e,t,a){e.exports={contentWrapper:"styles_contentWrapper__Bw1Fd",actions:"styles_actions__3Yb02"}},222:function(e,t,a){e.exports={modalWrapper:"styles_modalWrapper__2U5Mn",modalContentWrapper:"styles_modalContentWrapper__17XcD",titleWrapper:"styles_titleWrapper___HKO9",closeButton:"styles_closeButton__3462u",contentWrapper:"styles_contentWrapper__3VAOS",footerWrapper:"styles_footerWrapper__22I-0",confirmWrapper:"styles_confirmWrapper__9WAko",fadeIn:"styles_fadeIn__1In0u",confirmContainer:"styles_confirmContainer__27vpV",slideIn:"styles_slideIn__3AVKs",loadingContainer:"styles_loadingContainer__YOUhJ"}},223:function(e,t,a){e.exports={row:"styles_row__L8Iho",footerWrapper:"styles_footerWrapper__SBQsW"}},226:function(e,t,a){e.exports={block:"styles_block__16gyU",header:"styles_header__1Qxv4",row:"styles_row__3seDI",detail:"styles_detail__1EVHo"}},227:function(e,t,a){e.exports={wrapper:"styles_wrapper__w0P_k"}},228:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(212),r=a(30),c=a(323),i=a(199),o=a(332),s=a(225),l=a.n(s),d=a(224),j=a.n(d),b=a(202),u=a(70),O=a(223),p=a.n(O),h=a(1),f=function(e){var t=e.onSave,a=e.onClose,n=Object(b.d)(),s=n.handleSubmit,d=n.control,O=n.register,f=n.formState,x=f.errors,m=f.isSubmitting,v=f.isDirty,g=Object(b.b)({control:d,name:"phones"}),_=g.fields,y=g.append,C=g.remove;return Object(h.jsxs)("form",{onSubmit:s(t),children:[Object(h.jsx)("div",{className:p.a.row,children:Object(h.jsx)(c.a,Object(r.a)({id:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",size:"small",fullWidth:!0,autoFocus:!0,error:!!Object(u.b)(x,"agencyName"),disabled:m,helperText:Object(u.b)(x,"agencyName")},O("agencyName",{required:!0})))}),_.map((function(e,t){return Object(h.jsxs)("div",{className:p.a.row,children:[Object(h.jsx)(c.a,Object(r.a)({id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",variant:"outlined",size:"small",fullWidth:!0,error:!!Object(u.b)(x,"phones",t),disabled:m,helperText:Object(u.b)(x,"phones",t)},O("phones.".concat(t,".value"),{required:!0}))),Object(h.jsx)(i.a,{disabled:m,"aria-label":"delete phone",color:"error",size:"small",onClick:function(){C(t)},children:Object(h.jsx)(j.a,{fontSize:"small"})})]},e.id)})),Object(h.jsx)("div",{className:p.a.row,children:Object(h.jsx)(o.a,{"aria-label":"add phone",disabled:m,size:"small",variant:"text",startIcon:Object(h.jsx)(l.a,{fontSize:"small"}),onClick:function(){return y({value:""})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d"})}),Object(h.jsx)("div",{className:p.a.row,children:Object(h.jsx)(c.a,Object(r.a)({multiline:!0,rows:3,id:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",size:"small",fullWidth:!0,error:!!Object(u.b)(x,"description"),disabled:m,helperText:Object(u.b)(x,"description")},O("description")))}),Object(h.jsxs)("div",{className:p.a.footerWrapper,children:[Object(h.jsx)(o.a,{disabled:m,onClick:a,"aria-label":"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(h.jsx)(o.a,{disabled:m||!v,type:"submit","aria-label":"save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},x=function(e){var t=e.open,a=e.loading,r=void 0!==a&&a,c=e.onClose,i=e.onSave,o=e.onConformClose,s=e.onCancelClose,l=e.showConfirm,d=e.title;return Object(h.jsx)(n.a,{open:t,loading:r,onClose:c,title:d,showConfirm:l,confirmProps:{onConfirm:o,onCancel:s,confirmText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",confirmColor:"error",cancelColor:"success",text:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0432 \u0434\u0430\u043d\u043d\u044b\u0435?"},children:Object(h.jsx)(f,{onSave:i,onClose:c})})}},267:function(e,t,a){e.exports={wrapper:"styles_wrapper__2M1p2",pageHeader:"styles_pageHeader__2r3Ts",headerTitle:"styles_headerTitle__3AV9W",detail:"styles_detail__mrIum"}},269:function(e,t,a){e.exports={modalWrapper:"styles_modalWrapper__3bils"}},270:function(e,t,a){e.exports={phones:"styles_phones__1ZNps"}},271:function(e,t,a){e.exports={icons:"styles_icons__9rvlj",tableRow:"styles_tableRow__1nitJ"}},272:function(e,t,a){e.exports={row:"styles_row__1M2oQ",footerWrapper:"styles_footerWrapper__1D5JA"}},324:function(e,t,a){"use strict";a.r(t);var n=a(103),r=a(203),c=a(30),i=a(2),o=a.n(i),s=a(9),l=a(14),d=a(0),j=a(202),b=a(201),u=a(196),O=a(332),p=a(41),h=a(267),f=a.n(h),x=a(268),m=a(326),v=a(269),g=a.n(v),_=a(211),y=a(1),C=["open","onCancel"],w=function(e){var t=e.open,a=e.onCancel,n=Object(x.a)(e,C);return Object(y.jsx)(m.a,{open:t,onClose:a,onBackdropClick:a,className:g.a.modalWrapper,disableEnforceFocus:!0,disableAutoFocus:!0,children:Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(_.a,Object(c.a)(Object(c.a)({},n),{},{onCancel:a}))})})},N=a(228),S=a(199),W=a(213),L=a.n(W),k=a(206),T=a(270),I=a.n(T),D=a(226),E=a.n(D),z=function(e){var t=e.handleEdit,a=e.agencyName,n=e.createDate,r=e.editedDate,c=e.phones,i=e.description;return Object(y.jsxs)(b.a,{className:E.a.block,variant:"outlined",children:[Object(y.jsxs)("div",{className:E.a.header,children:[Object(y.jsx)(u.a,{variant:"h6",children:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(y.jsx)(S.a,{"aria-label":"edit",onClick:t,children:Object(y.jsx)(L.a,{fontSize:"small"})})]}),Object(y.jsxs)("div",{className:E.a.row,children:[Object(y.jsx)(u.a,{variant:"subtitle2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(y.jsx)(u.a,{variant:"body2",children:a})]}),Object(y.jsxs)("div",{className:E.a.row,children:[Object(y.jsx)(u.a,{variant:"subtitle2",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f:"}),Object(y.jsx)(u.a,{variant:"body2",children:n})]}),r&&Object(y.jsxs)("div",{className:E.a.row,children:[Object(y.jsx)(u.a,{variant:"subtitle2",children:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0432\u043e\u0430\u043d\u0438\u044f:"}),Object(y.jsx)(u.a,{variant:"body2",children:r})]}),Object(y.jsxs)("div",{className:E.a.row,children:[Object(y.jsx)(u.a,{variant:"subtitle2",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b:"}),Object(y.jsx)("div",{className:I.a.phones,children:Object(y.jsx)(k.a,{phones:c})})]}),i&&Object(y.jsxs)("div",{className:E.a.row,children:[Object(y.jsx)(u.a,{variant:"subtitle2",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(y.jsx)(u.a,{component:"pre",variant:"body2",children:i})]})]})},A=a(341),M=a(342),F=a(343),V=a(344),q=a(345),B=a(346),H=a(224),J=a.n(H),P=a(271),R=a.n(P),Q=a(70),U=function(e){var t=e.handleEditOrder,a=e.agencyOrders,n=e.handleDeleteOrder;return Object(y.jsx)(y.Fragment,{children:a.length?Object(y.jsx)(A.a,{children:Object(y.jsxs)(M.a,{size:"small",children:[Object(y.jsx)(F.a,{children:Object(y.jsxs)(V.a,{children:[Object(y.jsx)(q.a,{children:"\u041e\u0422\u041a\u0423\u0414\u0410"}),Object(y.jsx)(q.a,{children:"\u041a\u0423\u0414\u0410"}),Object(y.jsx)(q.a,{children:"\u0426\u0415\u041d\u0410"}),Object(y.jsx)(q.a,{})]})}),Object(y.jsx)(B.a,{onClick:function(e){var a=e.target.closest("[data-edit-id]"),r=e.target.closest("[data-delete-id]");a&&t(a.dataset.editId),r&&n(r.dataset.deleteId)},children:a.map((function(e){var t=e.id,a=e.route,n=e.price,r=e.currencyISO;return Object(y.jsxs)(V.a,{className:R.a.tableRow,children:[Object(y.jsx)(q.a,{children:a.origin.name}),Object(y.jsx)(q.a,{children:a.destination.name}),Object(y.jsxs)(q.a,{children:[n," ",Object(Q.a)(r)]}),Object(y.jsx)(q.a,{children:Object(y.jsxs)("div",{className:R.a.icons,children:[Object(y.jsx)(S.a,{"aria-label":"edit order","data-edit-id":t,children:Object(y.jsx)(L.a,{fontSize:"small"})}),Object(y.jsx)(S.a,{"aria-label":"delete order","data-delete-id":t,color:"error",children:Object(y.jsx)(J.a,{fontSize:"small"})})]})})]},t)}))})]})}):Object(y.jsx)("div",{children:Object(y.jsx)("h3",{children:"\u041f\u043e\u0435\u0437\u0434\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b!"})})})},K=a(238),Y=a.n(K),X=function(e){var t=e.handleCreateOrder,a=e.ordersLoading;return Object(y.jsxs)("div",{className:E.a.header,children:[Object(y.jsx)(u.a,{variant:"h6",children:"\u041f\u043e\u0435\u0437\u0434\u043a\u0438"}),Object(y.jsx)(S.a,{disabled:a,onClick:t,"aria-label":"add order",children:Object(y.jsx)(Y.a,{})})]})},Z=a(212),G=a(323),$=a(32),ee=a(272),te=a.n(ee),ae=a(327),ne=function(e){var t=e.onSave,a=e.onClose,n=e.localities,r=e.getLocality,i=e.localitiesLoading,b=Object(j.d)(),u=b.handleSubmit,p=b.register,h=b.clearErrors,f=b.formState,x=f.errors,m=f.isSubmitting,v=f.isDirty,g="\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",_="\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",C=Object(d.useState)(""),w=Object(l.a)(C,2),N=w[0],S=w[1],W=Object(d.useState)(""),L=Object(l.a)(W,2),k=L[0],T=L[1];Object(d.useEffect)((function(){N&&h("origin"),k&&h("destination")}),[N,k,h]);var I=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{onSubmit:u(t),children:[Object(y.jsx)("div",{className:te.a.row,children:Object(y.jsx)(ae.a,{size:"small",fullWidth:!0,id:"origin",options:n,loading:i,loadingText:_,getOptionLabel:function(e){return e.name},noOptionsText:g,onOpen:I,isOptionEqualToValue:function(e,t){return e.id===t.id},renderOption:function(e,t){return Object(d.createElement)("li",Object(c.a)(Object(c.a)({},e),{},{key:t.id}),t.name)},onChange:function(e,t){var a=(null===t||void 0===t?void 0:t.id)||"";S(a)},renderInput:function(e){return Object(y.jsx)(G.a,Object(c.a)(Object(c.a)(Object(c.a)({autoFocus:!0},e),p("origin",{required:!0,value:N})),{},{error:!!Object(Q.b)(x,"origin"),helperText:Object(Q.b)(x,"origin"),label:"\u041e\u0442\u043a\u0443\u0434\u0430",placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430"}))}})}),Object(y.jsx)("div",{className:te.a.row,children:Object(y.jsx)(ae.a,{size:"small",fullWidth:!0,id:"destination",options:n,loading:i,loadingText:_,getOptionLabel:function(e){return e.name},noOptionsText:g,onOpen:I,isOptionEqualToValue:function(e,t){return e.id===t.id},renderOption:function(e,t){return Object(d.createElement)("li",Object(c.a)(Object(c.a)({},e),{},{key:t.id}),t.name)},onChange:function(e,t){var a=(null===t||void 0===t?void 0:t.id)||"";T(a)},renderInput:function(e){return Object(y.jsx)(G.a,Object(c.a)(Object(c.a)(Object(c.a)({},e),p("destination",{required:!0,value:k})),{},{error:!!Object(Q.b)(x,"destination"),helperText:Object(Q.b)(x,"destination"),label:"\u041a\u0443\u0434\u0430",placeholder:"\u041a\u0443\u0434\u0430"}))}})}),Object(y.jsx)("div",{className:te.a.row,children:Object(y.jsx)(G.a,Object(c.a)({id:"price",label:"\u0426\u0435\u043d\u0430",placeholder:"\u0426\u0435\u043d\u0430",variant:"outlined",size:"small",fullWidth:!0,error:!!Object(Q.b)(x,"price"),disabled:m,helperText:Object(Q.b)(x,"price")},p("price",{required:!0,pattern:{value:$.a.numberPattern,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0435\u0437 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432"}})))}),Object(y.jsxs)("div",{className:te.a.footerWrapper,children:[Object(y.jsx)(O.a,{disabled:m,onClick:a,"aria-label":"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(y.jsx)(O.a,{disabled:m||!v,type:"submit","aria-label":"save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},re=function(e){var t=e.showModal,a=e.showConfirm,n=e.onClose,r=e.onSave,c=e.onConformClose,i=e.onCancelClose,o=e.titleModal,s=e.localities,l=e.getLocality,d=e.localitiesLoading;return Object(y.jsx)(Z.a,{open:t,onClose:n,title:o,showConfirm:a,confirmProps:{onConfirm:c,onCancel:i,confirmText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",confirmColor:"error",cancelColor:"success",text:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0432 \u0434\u0430\u043d\u043d\u044b\u0435?"},children:Object(y.jsx)(ne,{onSave:r,onClose:n,localities:s,getLocality:l,localitiesLoading:d})})},ce=function(e){var t=e.showModal,a=e.handleCloseModal,n=e.titleModal,r=e.methods,i=(e.orderID,e.createOrder),b=e.localities,u=e.getLocality,O=e.localitiesLoading,p=Object(d.useState)(!1),h=Object(l.a)(p,2),f=h[0],x=h[1],m=r.formState,v=r.formState,g=v.isSubmitSuccessful,_=v.isDirty,C=r.reset,w=r.getValues;Object(d.useEffect)((function(){g&&C(w())}),[m,w,g,C]);var N=function(){x(!1),a(),C()},S=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:C(),a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(j.a,Object(c.a)(Object(c.a)({},r),{},{children:Object(y.jsx)(re,{titleModal:n,showModal:t,onClose:function(){_?x(!0):N()},onSave:S,showConfirm:f,onConformClose:N,onCancelClose:function(){x(!1)},localities:b||[],getLocality:u,localitiesLoading:O})}))},ie=a(215),oe=function(e){var t=e.agencyOrders,a=e.deleteOrder,n=e.ordersLoading,r=e.createOrder,c=e.localities,i=e.getLocality,u=e.localitiesLoading,O=Object(d.useState)(!1),p=Object(l.a)(O,2),h=p[0],f=p[1],x=Object(d.useState)(""),m=Object(l.a)(x,2),v=m[0],g=m[1],_=Object(d.useState)(null),C=Object(l.a)(_,2),w=C[0],N=C[1],S=Object(d.useState)(""),W=Object(l.a)(S,2),L=W[0],k=W[1],T=Object(j.c)({}),I=T.setValue;Object(d.useEffect)((function(){w&&(I("origin",w.origin),I("destination",w.destination),I("price",w.price))}),[w,I]);var D=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var a=t.find((function(t){return t.id===e}));a&&(k(a.id),N({origin:a.route.origin.name,destination:a.route.destination.name,price:a.price}))};return Object(y.jsxs)(b.a,{className:E.a.block,variant:"outlined",children:[Object(y.jsx)(X,{handleCreateOrder:function(){f(!0),N(null),g("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043f\u043e\u0435\u0437\u0434\u043a\u0443"),k("")},ordersLoading:n}),n?Object(y.jsx)(ie.a,{}):Object(y.jsx)(U,{handleEditOrder:function(e){f(!0),z(e),g("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0435\u0437\u0434\u043a\u0443")},agencyOrders:t,handleDeleteOrder:D}),Object(y.jsx)(ce,{orderID:L,methods:T,titleModal:v,showModal:h,handleCloseModal:function(){f(!1)},createOrder:r,localities:c||[],getLocality:i,localitiesLoading:u})]})},se=a(62),le=a(231),de=function(e){var t=e.agency,a=t.id,n=t.agencyName,r=t.phones,i=void 0===r?[]:r,h=t.createDate,x=t.description,m=t.editedDate,v=e.agencyOrders,g=e.editAgency,_=e.deleteAgency,C=e.editLoading,S=e.deleteOrder,W=e.ordersLoading,L=e.createOrder,k=e.localities,T=e.getLocality,I=e.localitiesLoading,D=Object(p.e)().navigate,E=Object(d.useState)(!1),A=Object(l.a)(E,2),M=A[0],F=A[1],V=Object(d.useState)(!1),q=Object(l.a)(V,2),B=q[0],H=q[1],J=Object(d.useState)(!1),P=Object(l.a)(J,2),R=P[0],Q=P[1],U=Object(le.a)().setTitle,K=Object(j.c)({defaultValues:{id:a,agencyName:n,description:x,phones:Object(se.a)(i)}}),Y=K.formState,X=K.formState,Z=X.isSubmitSuccessful,G=X.isDirty,$=K.reset,ee=K.getValues;Object(d.useEffect)((function(){Z&&$(ee())}),[Y,ee,Z,$]);var te=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),e.next=3,_({id:a});case 3:D("agencies");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){Q(!1),H(!1),$()},ne=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Object(c.a)({},t));case 2:U(t.agencyName),H(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(b.a,{className:f.a.wrapper,children:[Object(y.jsxs)("div",{className:f.a.pageHeader,children:[Object(y.jsx)(u.a,{variant:"h6",className:f.a.headerTitle,children:n}),Object(y.jsx)(O.a,{variant:"outlined",color:"error",onClick:function(){F(!0)},"aria-label":"delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),Object(y.jsxs)("div",{className:f.a.detail,children:[Object(y.jsx)(z,{handleEdit:function(){H(!0)},agencyName:n,createDate:h,editedDate:m,phones:i,description:x}),Object(y.jsx)(oe,{ordersLoading:W,deleteOrder:S,agencyOrders:v,createOrder:L,localities:k||[],getLocality:T,localitiesLoading:I})]})]}),Object(y.jsx)(w,{open:M,onCancel:function(){F(!1)},onConfirm:te,title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430."}),Object(y.jsx)(j.a,Object(c.a)(Object(c.a)({},K),{},{children:Object(y.jsx)(N.a,{open:B,loading:C,onClose:function(){C||(G?Q(!0):ae())},onSave:ne,onConformClose:ae,onCancelClose:function(){Q(!1)},showConfirm:R,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0433\u0435\u043d\u0441\u0442\u0432\u043e"})}))]})},je=a(208),be=Object(n.a)((function(){var e=Object(r.a)("agency"),t=Object(r.a)("locality");return Object(y.jsxs)("div",{children:[e.loading&&Object(y.jsx)(ie.a,{}),e.error&&!e.loading&&Object(y.jsx)(je.a,{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431 \u0430\u0433\u0435\u043d\u0441\u0442\u0432\u0435",error:e.error}),!e.loading&&!e.error&&e.agency&&e.agencyOrders&&Object(y.jsx)(de,{agency:e.agency,editAgency:e.editAgency,deleteAgency:e.deleteAgency,editLoading:e.editLoading,agencyOrders:e.agencyOrders,deleteOrder:e.deleteOrder,ordersLoading:e.ordersLoading,createOrder:e.createOrder,localities:t.localities||[],getLocality:t.getList,localitiesLoading:t.loading})]})}));t.default=be}}]);
//# sourceMappingURL=9.9584e716.chunk.js.map