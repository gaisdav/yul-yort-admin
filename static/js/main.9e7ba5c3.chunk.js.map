{"version":3,"sources":["view/UI/components/common/LoadingScreen/index.tsx","view/UI/hooks/useStore.tsx","libs/api/index.ts","store/LibsStore.ts","data/repositories/BaseRepository.ts","data/repositories/Agency/index.ts","data/repositories/User/index.ts","data/repositories/Order/index.ts","data/repositories/Locality/index.ts","store/RepositoriesStore.ts","data/entities/Agency/AgencyItem.ts","data/entities/Agency/Agency.ts","data/services/Agency/index.ts","data/services/User/index.ts","data/entities/Order/index.ts","data/services/Order/index.ts","data/entities/Locality/index.ts","data/services/Locality/index.ts","store/ServicesStore.ts","view/viewModels/mappers/index.ts","view/viewModels/BaseVM.ts","view/viewModels/Agency/index.ts","view/viewModels/User/index.ts","view/viewModels/NotificationsVM.ts","view/viewModels/Order/index.ts","view/viewModels/Locality/index.ts","store/ViewModelsStore.ts","reportWebVitals.ts","serviceWorkerRegistration.ts","view/UI/pages/errorBoundaryPage/components/ErrorInfo/ErrorInfoComponent.tsx","view/UI/pages/errorBoundaryPage/index.tsx","view/UI/components/common/Notify/index.tsx","view/UI/App.tsx","view/UI/hooks/useNotification.tsx","view/UI/index.tsx","view/UI/InitErrorApp.tsx","view/UI/theme/getCssVar.ts","view/UI/theme/index.ts","router/middlewaries/utils.ts","index.ts","router/index.ts","router/middlewaries/onActivate.ts","router/middlewaries/checkAuthorization.ts","router/middlewaries/documentTitle.ts","store/index.ts","libs/mocks/data/agencies.ts","libs/mocks/data/orders.ts","libs/mocks/data/localities.ts","libs/mocks/utils/getTimeout.ts","libs/mocks/utils/getAuthCookie.ts","libs/mocks/handlers.ts","libs/mocks/browser.ts","constants/Endpoints.ts","constants/globalConstants.ts","libs/utils/getCurrency.ts","view/UI/components/shared/AgencyCreateEditForm/mappers.ts","view/UI/pages/errorBoundaryPage/components/ErrorInfo/styles.module.scss","libs/utils/getErrorText.ts","libs/utils/setDocumentTitle.ts","libs/utils/checkToken.ts","view/UI/pages/errorBoundaryPage/styles.module.scss","router/routes.ts"],"names":["LoadingScreen","id","className","useStore","useRouter","getDependencies","store","Api","router","path","params","a","url","URL","baseUrl","search","URLSearchParams","toString","fullUrl","fetch","response","ok","this","errorHandler","json","method","body","JSON","stringify","Error","status","statusText","navigate","LibsStore","libs","api","BaseRepository","AgencyRepository","get","EEndpoints","AGENCY","post","AGENCY_EDIT","delete","AGENCY_DELETE","AGENCY_LIST","AGENCY_CREATE","UserRepository","LOGIN","LOGOUT","OrderRepository","ORDERS_LIST","ORDER_DELETE","LocalityRepository","LOCALITY_LIST","RepositoriesStore","repositories","agency","user","order","locality","AgencyItem","dto","agencyName","phones","createDate","format","Date","makeObservable","observable","Agency","editedDate","description","AgencyService","repository","getAgency","fields","getTime","VMPhonesRequestFormatter","editAgency","deleteAgency","getList","agencies","map","createAgency","agencyItem","UserService","login","logout","OrderItem","currencyISO","route","price","makeAutoObservable","OrderService","orders","orderItem","deleteOrder","Locality","name","LocalityService","localities","ServicesStore","services","errorMapper","err","error","message","newError","BaseVM","notify","loading","setLoading","action","unsetLoading","setError","unsetError","errorNotification","AgencyVM","notificationsVM","service","orderService","editLoading","ordersLoading","loadingList","agencyOrders","searchValue","_agencies","setLoadingItem","push","unsetLoadingItem","index","indexOf","splice","setEditLoading","unsetEditLoading","setOrdersLoading","unsetOrdersLoading","isLoadingItem","searchAgency","value","toLocaleLowerCase","agencyId","runInAction","successNotification","list","createOrder","console","log","newAgency","uuid","agenciesCopy","filter","includes","some","phone","UserVM","NotificationsVM","notification","addNotification","type","removeNotification","OrderVM","LocalityVM","ViewModelsStore","notifications","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ErrorInfoComponent","handleExpand","errorInfo","expanded","css","errorBoundary","Typography","align","icon","color","fontSize","variant","onClick","collapseTitle","IconButton","Collapse","in","timeout","unmountOnExit","collapse","componentStack","routeName","CONSTANTS","defaultRoute","ErrorBoundary","props","setState","offline","onLine","timerID","setInterval","clearInterval","stack","cn","appWrapper","appWrapper__offline","notConnectText","children","React","Component","Notify","open","onClose","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","severity","closeText","UnauthorizedApp","lazy","AuthorizedApp","App","observer","isUnauthorized","useRoute","fallback","process","href","origin","addEventListener","headers","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","getCssVar","varName","getComputedStyle","document","documentElement","getPropertyValue","trim","theme","createTheme","palette","common","white","main","background","default","components","MuiPaper","styleOverrides","root","borderRadius","MuiAppBar","MuiDrawer","paper","MuiFormHelperText","marginLeft","marginTop","MuiDivider","backgroundColor","MuiSnackbar","anchorOriginTopRight","left","wordBreak","typography","button","textTransform","InitErrorPage","cache","getRouteByToStateName","toStateName","dependencies","split","forEach","routes","find","require","worker","start","onUnhandledRequest","middlewares","createRouter","allowNotFound","queryParamsMode","autoCleanUp","usePlugin","browserPlugin","useHash","BUILD_MODE","middleware","useMiddleware","createAppRouter","toState","onActivate","_","done","hasToken","checkToken","redirect","constants","UNKNOWN_ROUTE","auth","redirectName","redirectParams","setDocumentTitle","title","projectName","viewModels","setDependencies","ReactDOM","render","ThemeProvider","CssBaseline","StyledEngineProvider","injectFirst","getElementById","initApp","destination","ECurrencyISO","RUB","waypoints","getTimeout","delay","Math","floor","random","getAuthCookie","expires","setDate","getDate","tokenCookieKey","handlers","rest","req","res","ctx","searchParams","result","Object","keys","length","parse","unshift","cookie","setupWorker","numberPattern","CurrenciesDictionary","getCurrency","currency","UIPhonesFormatter","phoneValue","module","exports","ErrorsDictionary","required","min","max","maxLength","minLength","getErrorText","errors","valuePath","undefined","Cookies"],"mappings":"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","file":"static/js/main.9e7ba5c3.chunk.js","sourcesContent":["import { FC } from \"react\";\n\n/**\n * Данная верстка полностью идентична с версткой в файле public/index.html\n * Если что-то поменяется, то нужно менять в обоих местах.\n */\nexport const LoadingScreen: FC = () => (\n  <div id=\"loading-dots__wrapper\">\n    <div id=\"loading-dots\">\n      <div className=\"title\">Yul</div>\n      <div className=\"title subtitle\">Yort</div>\n      <div className=\"dot first-dots\" />\n      <div className=\"dot second-dots\" />\n      <div className=\"dot third-dots\" />\n    </div>\n  </div>\n);\n","import { IStoreViewModels } from \"../../../store/types\";\nimport { useRouter } from \"react-router5\";\n\n/**\n * Возвращает хранилище целиком.\n */\nexport const useStore = (): IStoreViewModels => {\n  return useRouter().getDependencies().store;\n};\n","import { baseUrl, EEndpoints } from \"../../constants/Endpoints\";\nimport { IApi } from \"./types\";\nimport { Router } from \"router5/dist/types/router\";\nimport { IDependencies } from \"../../router/types\";\n\nexport class Api implements IApi {\n  constructor(private router: Router<IDependencies>) {}\n\n  async get<R, P = undefined>(path: EEndpoints, params?: P): Promise<R> {\n    const url = new URL(path, baseUrl);\n\n    url.search = new URLSearchParams(params as any).toString();\n    const fullUrl = url.toString();\n\n    const response = await fetch(fullUrl);\n\n    if (!response.ok) {\n      this.errorHandler(response);\n    }\n\n    return await response.json();\n  }\n\n  async post<R, P>(path: EEndpoints, params?: P): Promise<R> {\n    const url = new URL(path, baseUrl).toString();\n\n    let response = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n    });\n\n    if (!response.ok) {\n      this.errorHandler(response);\n    }\n\n    return await response.json();\n  }\n\n  async delete<R, P>(path: EEndpoints, params?: P): Promise<R> {\n    const url = new URL(path, baseUrl).toString();\n\n    let response = await fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n    });\n\n    if (!response.ok) {\n      throw Error(response.status + \" \" + response.statusText);\n    }\n\n    return await response.json();\n  }\n\n  errorHandler(response: Response) {\n    if (response.status === 401) {\n      this.router.navigate(\"login\");\n    }\n\n    throw Error(response.status + \" \" + response.statusText);\n  }\n}\n","import { ILibs, IStoreLibs } from \"./types\";\nimport { Api } from \"../libs/api\";\nimport { IDependencies } from \"../router/types\";\nimport { Router } from \"router5/dist/types/router\";\n\nexport class LibsStore implements IStoreLibs {\n  private libs: ILibs = {};\n\n  constructor(private router: Router<IDependencies>) {}\n\n  get api() {\n    if (this.libs.api) {\n      return this.libs.api;\n    }\n\n    this.libs.api = new Api(this.router);\n\n    return this.libs.api;\n  }\n}\n","import { IApi } from \"../../libs/api/types\";\n\nexport class BaseRepository {\n  constructor(protected api: IApi) {}\n}\n","import { IAgencyRepository } from \"./types\";\nimport {\n  IAgencyItemResponseDTO,\n  IAgencyRequestCreateParams,\n  IAgencyRequestDeleteParams,\n  IAgencyRequestEditParams,\n  IAgencyRequestParams,\n  IAgencyResponseDTO,\n} from \"../../entities/Agency/types\";\nimport { EEndpoints } from \"../../../constants/Endpoints\";\nimport { BaseRepository } from \"../BaseRepository\";\n\nexport class AgencyRepository\n  extends BaseRepository\n  implements IAgencyRepository\n{\n  async getAgency(params: IAgencyRequestParams): Promise<IAgencyResponseDTO> {\n    return await this.api.get<IAgencyResponseDTO, IAgencyRequestParams>(\n      EEndpoints.AGENCY,\n      params\n    );\n  }\n\n  async editAgency(\n    params: IAgencyRequestEditParams\n  ): Promise<IAgencyResponseDTO> {\n    return await this.api.post<IAgencyResponseDTO, IAgencyRequestEditParams>(\n      EEndpoints.AGENCY_EDIT,\n      params\n    );\n  }\n\n  async deleteAgency(\n    params: IAgencyRequestDeleteParams\n  ): Promise<IAgencyResponseDTO> {\n    return await this.api.delete<\n      IAgencyResponseDTO,\n      IAgencyRequestDeleteParams\n    >(EEndpoints.AGENCY_DELETE, params);\n  }\n\n  async getList(): Promise<IAgencyItemResponseDTO[]> {\n    return await this.api.get<IAgencyItemResponseDTO[]>(EEndpoints.AGENCY_LIST);\n  }\n\n  async createAgency(\n    params: IAgencyRequestCreateParams\n  ): Promise<IAgencyItemResponseDTO> {\n    return await this.api.post<\n      IAgencyItemResponseDTO,\n      IAgencyRequestCreateParams\n    >(EEndpoints.AGENCY_CREATE, params);\n  }\n}\n","import { IUserRepository } from \"./types\";\nimport { EEndpoints } from \"../../../constants/Endpoints\";\nimport { BaseRepository } from \"../BaseRepository\";\n\nexport class UserRepository extends BaseRepository implements IUserRepository {\n  async login(): Promise<void> {\n    await this.api.post(EEndpoints.LOGIN);\n  }\n  async logout(): Promise<void> {\n    await this.api.post(EEndpoints.LOGOUT);\n  }\n}\n","import { BaseRepository } from \"../BaseRepository\";\nimport { IOrderRepository } from \"./types\";\nimport {\n  IOrderItemRequestParams,\n  IOrderItemResponseDTO,\n} from \"../../entities/Order/types\";\nimport { EEndpoints } from \"../../../constants/Endpoints\";\n\nexport class OrderRepository\n  extends BaseRepository\n  implements IOrderRepository\n{\n  async getList(\n    params?: IOrderItemRequestParams\n  ): Promise<IOrderItemResponseDTO[]> {\n    return await this.api.get<IOrderItemResponseDTO[], IOrderItemRequestParams>(\n      EEndpoints.ORDERS_LIST,\n      params\n    );\n  }\n\n  async deleteOrder(id: ID): Promise<IOrderItemResponseDTO[]> {\n    return await this.api.delete(EEndpoints.ORDER_DELETE, id);\n  }\n}\n","import { BaseRepository } from \"../BaseRepository\";\nimport { EEndpoints } from \"src/constants/Endpoints\";\nimport { ILocalityRepository } from \"./types\";\nimport { ILocalityDTO } from \"src/data/entities/Locality/types\";\n\nexport class LocalityRepository\n  extends BaseRepository\n  implements ILocalityRepository\n{\n  async getList(): Promise<ILocalityDTO[]> {\n    return await this.api.get<ILocalityDTO[]>(EEndpoints.LOCALITY_LIST);\n  }\n}\n","import { IRepositories, IStoreLibs, IStoreRepositories } from \"./types\";\nimport { AgencyRepository } from \"../data/repositories/Agency\";\nimport { UserRepository } from \"../data/repositories/User\";\nimport { OrderRepository } from \"../data/repositories/Order\";\nimport { LocalityRepository } from \"../data/repositories/Locality\";\n\nexport class RepositoriesStore implements IStoreRepositories {\n  private repositories: IRepositories = {};\n\n  get agency() {\n    if (!this.repositories.agency) {\n      this.repositories.agency = new AgencyRepository(this.libs.api);\n    }\n\n    return this.repositories.agency;\n  }\n\n  get user() {\n    if (!this.repositories.user) {\n      this.repositories.user = new UserRepository(this.libs.api);\n    }\n\n    return this.repositories.user;\n  }\n\n  get order() {\n    if (!this.repositories.order) {\n      this.repositories.order = new OrderRepository(this.libs.api);\n    }\n\n    return this.repositories.order;\n  }\n\n  get locality() {\n    if (!this.repositories.locality) {\n      this.repositories.locality = new LocalityRepository(this.libs.api);\n    }\n\n    return this.repositories.locality;\n  }\n\n  constructor(private libs: IStoreLibs) {}\n}\n","import { makeObservable, observable } from \"mobx\";\nimport { IAgencyItemEntity, IAgencyItemResponseDTO } from \"./types\";\nimport { format } from \"date-fns\";\n\nexport class AgencyItem implements IAgencyItemEntity {\n  id: ID = \"\";\n  agencyName: string = \"\";\n  phones?: string[];\n  createDate: string;\n\n  constructor(dto: IAgencyItemResponseDTO) {\n    this.id = dto.id;\n    this.agencyName = dto.agencyName;\n    this.phones = dto.phones;\n    this.createDate = format(new Date(dto.createDate), \"dd.MM.yyyy  HH:mm\");\n\n    makeObservable(this, {\n      id: observable,\n      agencyName: observable,\n      phones: observable,\n      createDate: observable,\n    });\n  }\n}\n","import { makeObservable, observable } from \"mobx\";\nimport { IAgencyEntity, IAgencyResponseDTO } from \"./types\";\nimport { AgencyItem } from \"./AgencyItem\";\nimport { format } from \"date-fns\";\n\nexport class Agency extends AgencyItem implements IAgencyEntity {\n  editedDate: string | undefined;\n  description: string | undefined = \"\";\n\n  constructor(dto: IAgencyResponseDTO) {\n    super({\n      id: dto.id,\n      createDate: dto.createDate,\n      agencyName: dto.agencyName,\n      phones: dto.phones,\n    });\n\n    this.description = dto.description;\n    this.editedDate = dto.editedDate\n      ? format(new Date(dto.editedDate), \"dd.MM.yyyy  HH:mm\")\n      : \"\";\n\n    makeObservable(this, {\n      editedDate: observable,\n      description: observable,\n    });\n  }\n}\n","import { IAgencyService } from \"./types\";\nimport {\n  IAgencyRequestEditParams,\n  IAgencyEntity,\n  IAgencyRequestParams,\n  IAgencyRequestDeleteParams,\n  IAgencyItemEntity,\n  IAgencyRequestCreateParams,\n} from \"../../entities/Agency/types\";\nimport { IAgencyRepository } from \"../../repositories/Agency/types\";\nimport { Agency, AgencyItem } from \"../../entities/Agency\";\nimport { VMPhonesRequestFormatter } from \"../../../view/UI/components/shared/AgencyCreateEditForm/mappers\";\nimport { ICreateOrEditAgencyFormFields } from \"../../../view/UI/components/shared/AgencyCreateEditForm/types\";\n\nexport class AgencyService implements IAgencyService {\n  constructor(private repository: IAgencyRepository) {}\n\n  async getAgency(params: IAgencyRequestParams): Promise<IAgencyEntity> {\n    const agency = await this.repository.getAgency(params);\n\n    return new Agency(agency);\n  }\n\n  async editAgency(\n    fields: ICreateOrEditAgencyFormFields\n  ): Promise<IAgencyEntity> {\n    const params: IAgencyRequestEditParams = {\n      ...fields,\n      editedDate: new Date().getTime(),\n      phones: VMPhonesRequestFormatter(fields.phones),\n    };\n    const agency = await this.repository.editAgency(params);\n\n    return new Agency(agency);\n  }\n\n  async deleteAgency(\n    params: IAgencyRequestDeleteParams\n  ): Promise<IAgencyEntity> {\n    const agency = await this.repository.deleteAgency(params);\n\n    return new Agency(agency);\n  }\n\n  async getList(): Promise<IAgencyItemEntity[]> {\n    const agencies = await this.repository.getList();\n\n    return agencies.map((agency) => new AgencyItem(agency));\n  }\n\n  async createAgency(\n    fields: ICreateOrEditAgencyFormFields\n  ): Promise<IAgencyEntity> {\n    const params: IAgencyRequestCreateParams = {\n      ...fields,\n      createDate: new Date().getTime(),\n      phones: VMPhonesRequestFormatter(fields.phones),\n    };\n\n    const agencyItem = await this.repository.createAgency(params);\n\n    return new AgencyItem(agencyItem);\n  }\n}\n","import { IUserRepository } from \"../../repositories/User/types\";\nimport { IUserService } from \"./types\";\n\nexport class UserService implements IUserService {\n  constructor(private repository: IUserRepository) {}\n\n  async login(): Promise<void> {\n    await this.repository.login();\n  }\n\n  async logout(): Promise<void> {\n    await this.repository.logout();\n  }\n}\n","import { makeAutoObservable } from \"mobx\";\nimport { ECurrencyISO } from \"src/libs/utils/getCurrency\";\nimport {\n  IOrderAgency,\n  IOrderItemEntity,\n  IOrderItemResponseDTO,\n  IOrderRoute,\n} from \"./types\";\n\nexport class OrderItem implements IOrderItemEntity {\n  id: ID;\n  agency: IOrderAgency;\n  currencyISO: ECurrencyISO;\n  route: IOrderRoute;\n  price: number;\n\n  constructor(dto: IOrderItemResponseDTO) {\n    this.id = dto.id;\n    this.agency = dto.agency;\n    this.route = dto.route;\n    this.currencyISO = dto.currencyISO;\n    this.price = dto.price;\n\n    makeAutoObservable(this);\n  }\n}\n","import { IOrderService } from \"./types\";\nimport {\n  IOrderItemEntity,\n  IOrderItemRequestParams,\n} from \"../../entities/Order/types\";\nimport { IOrderRepository } from \"../../repositories/Order/types\";\nimport { OrderItem } from \"../../entities/Order\";\n\nexport class OrderService implements IOrderService {\n  constructor(private repository: IOrderRepository) {}\n\n  getList = async (\n    params?: IOrderItemRequestParams\n  ): Promise<IOrderItemEntity[]> => {\n    const orders = await this.repository.getList(params);\n\n    return orders.map((orderItem) => new OrderItem(orderItem));\n  };\n\n  async deleteOrder(id: ID): Promise<IOrderItemEntity[]> {\n    const orders = await this.repository.deleteOrder(id);\n\n    return orders.map((orderItem) => new OrderItem(orderItem));\n  }\n}\n","import { ILocalityDTO, ILocalityEntity } from \"./types\";\nimport { makeAutoObservable } from \"mobx\";\n\n/**\n * Сущность населенного пункта.\n */\nexport class Locality implements ILocalityEntity {\n  id: ID;\n  name: string;\n  description?: string;\n\n  constructor(dto: ILocalityDTO) {\n    this.id = dto.id;\n    this.name = dto.name;\n    this.description = dto.description;\n\n    makeAutoObservable(this);\n  }\n}\n","import { ILocalityService } from \"./types\";\nimport { ILocalityRepository } from \"../../repositories/Locality/types\";\nimport { ILocalityEntity } from \"../../entities/Locality/types\";\nimport { Locality } from \"../../entities/Locality\";\n\nexport class LocalityService implements ILocalityService {\n  constructor(private repository: ILocalityRepository) {}\n\n  getList = async (): Promise<ILocalityEntity[]> => {\n    const localities = await this.repository.getList();\n\n    return localities.map((locality) => new Locality(locality));\n  };\n}\n","import { IServices, IStoreRepositories, IStoreServices } from \"./types\";\nimport { AgencyService } from \"../data/services/Agency\";\nimport { UserService } from \"../data/services/User\";\nimport { OrderService } from \"../data/services/Order\";\nimport { LocalityService } from \"../data/services/Locality\";\n\nexport class ServicesStore implements IStoreServices {\n  private services: IServices = {};\n\n  get agency() {\n    if (!this.services.agency) {\n      this.services.agency = new AgencyService(this.repositories.agency);\n    }\n\n    return this.services.agency;\n  }\n\n  get user() {\n    if (!this.services.user) {\n      this.services.user = new UserService(this.repositories.user);\n    }\n\n    return this.services.user;\n  }\n\n  get order() {\n    if (!this.services.order) {\n      this.services.order = new OrderService(this.repositories.order);\n    }\n\n    return this.services.order;\n  }\n\n  get locality() {\n    if (!this.services.locality) {\n      this.services.locality = new LocalityService(this.repositories.locality);\n    }\n\n    return this.services.locality;\n  }\n\n  constructor(private repositories: IStoreRepositories) {}\n}\n","import { IError } from \"../types\";\n\nexport const errorMapper = (err: unknown): IError => {\n  let error: IError;\n\n  if (err instanceof Error) {\n    error = {\n      name: err.name,\n      message: err.message,\n    };\n  } else if (typeof err === \"string\") {\n    error = {\n      name: \"Неопознанная ошибка\",\n      message: err,\n    };\n  } else {\n    const newError = new Error(\"Неопознанная ошибка\");\n\n    error = {\n      name: newError.name,\n      message: newError.message,\n    };\n  }\n\n  return error;\n};\n","import { IBaseVM, IError, INotificationsVM } from \"./types\";\nimport { action, makeObservable, observable } from \"mobx\";\nimport { errorMapper } from \"./mappers\";\n\n// переименовать в Controller?\nexport class BaseVM implements IBaseVM {\n  loading: boolean = false;\n  error: IError | null = null;\n\n  constructor(protected notify: INotificationsVM) {\n    makeObservable(this, {\n      loading: observable,\n      error: observable,\n      setLoading: action,\n      unsetLoading: action,\n      setError: action,\n      unsetError: action,\n    });\n  }\n\n  setLoading(): void {\n    this.loading = true;\n  }\n\n  unsetLoading(): void {\n    this.loading = false;\n  }\n\n  setError(err: unknown): void {\n    this.error = errorMapper(err);\n\n    this.notify.errorNotification(`${this.error.name} ${this.error.message}`);\n    throw err;\n  }\n\n  unsetError(): void {\n    this.error = null;\n  }\n}\n","import { action, makeObservable, observable, runInAction } from \"mobx\";\nimport { v4 as uuid } from \"uuid\";\nimport { format } from \"date-fns\";\nimport { BaseVM } from \"../BaseVM\";\nimport { IAgencyVM } from \"./types\";\nimport {\n  IAgencyEntity,\n  IAgencyRequestParams,\n  IAgencyRequestDeleteParams,\n  IAgencyItemEntity,\n} from \"../../../data/entities/Agency/types\";\nimport { IAgencyService } from \"../../../data/services/Agency/types\";\nimport { INotificationsVM } from \"../types\";\nimport { ICreateOrEditAgencyFormFields } from \"../../UI/components/shared/AgencyCreateEditForm/types\";\nimport { VMPhonesRequestFormatter } from \"src/view/UI/components/shared/AgencyCreateEditForm/mappers\";\nimport { IOrderService } from \"../../../data/services/Order/types\";\nimport { IOrderItemEntity } from \"../../../data/entities/Order/types\";\nimport { errorMapper } from \"../mappers\";\nimport { IOrdersCreateFormFields } from \"src/view/UI/pages/agency/components/DetailOrders/CreateOrder/types\";\n\nexport class AgencyVM extends BaseVM implements IAgencyVM {\n  editLoading: boolean = false;\n  ordersLoading: boolean = false;\n  loadingList: ID[] = [];\n\n  agency: IAgencyEntity | null = null;\n  agencyOrders: IOrderItemEntity[] | null = null;\n  searchValue: string = \"\";\n\n  private _agencies: IAgencyItemEntity[] | null = null;\n\n  get agencies() {\n    return (\n      this._agencies &&\n      this._agencies.filter(\n        (agency) =>\n          agency.agencyName.toLocaleLowerCase().includes(this.searchValue) ||\n          agency.phones?.some((phone) => phone.includes(this.searchValue))\n      )\n    );\n  }\n\n  constructor(\n    notificationsVM: INotificationsVM,\n    private service: IAgencyService,\n    private orderService: IOrderService\n  ) {\n    super(notificationsVM);\n\n    makeObservable(this, {\n      agency: observable,\n      agencyOrders: observable,\n      editLoading: observable,\n      loadingList: observable,\n      searchValue: observable,\n      ordersLoading: observable,\n      getAgency: action,\n      editAgency: action,\n      getList: action,\n      createAgency: action,\n      deleteOrder: action,\n    });\n  }\n\n  private setLoadingItem = (id: ID) => {\n    this.loadingList.push(id);\n  };\n\n  private unsetLoadingItem = (id: ID) => {\n    const index = this.loadingList.indexOf(id);\n\n    if (index >= 0) {\n      this.loadingList.splice(index, 1);\n    }\n  };\n\n  private setEditLoading = () => {\n    this.editLoading = true;\n  };\n\n  private unsetEditLoading = () => {\n    this.editLoading = false;\n  };\n\n  private setOrdersLoading = () => {\n    this.ordersLoading = true;\n  };\n\n  private unsetOrdersLoading = () => {\n    this.ordersLoading = false;\n  };\n\n  isLoadingItem = (id: ID) => this.loadingList.indexOf(id) !== -1;\n\n  searchAgency = (value: string) => {\n    this.searchValue = value.toLocaleLowerCase();\n  };\n\n  getAgency = async (params: IAgencyRequestParams) => {\n    this.setLoading();\n    this.unsetError();\n\n    try {\n      const agency = await this.service.getAgency(params);\n      const orders = await this.orderService.getList({\n        agencyId: params.id,\n      });\n\n      runInAction(() => {\n        this.agency = agency;\n        this.agencyOrders = orders;\n      });\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n\n  editAgency = async (fields: ICreateOrEditAgencyFormFields) => {\n    this.setEditLoading();\n\n    try {\n      this.agency = await this.service.editAgency(fields);\n      this.notify.successNotification(\"Данные сохранены\");\n    } catch (err) {\n      const error = errorMapper(err);\n\n      const message = `${error?.name} ${error?.message}`;\n      this.notify.errorNotification(message);\n\n      throw err;\n    } finally {\n      this.unsetEditLoading();\n    }\n  };\n\n  deleteAgency = async (params: IAgencyRequestDeleteParams) => {\n    this.setLoading();\n\n    try {\n      await this.service.deleteAgency(params);\n      this.notify.successNotification(\n        `Агентство \"${this.agency?.agencyName}\" удалено`\n      );\n      this.agency = null;\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n\n  getList = async () => {\n    this.setLoading();\n    this.unsetError();\n\n    try {\n      const list = await this.service.getList();\n\n      runInAction(() => {\n        this._agencies = list;\n      });\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n\n  createOrder = async (fields: IOrdersCreateFormFields) => {\n    try {\n      console.log(\"super\", fields);\n    } catch (error) {}\n  };\n\n  deleteOrder = async (id: ID) => {\n    this.setOrdersLoading();\n    try {\n      const orders = await this.orderService.deleteOrder(id);\n      runInAction(() => {\n        this.agencyOrders = orders;\n      });\n      this.notify.successNotification(`Поездка удалена`);\n    } catch (err) {\n      const error = errorMapper(err);\n      const message = `${error?.name} ${error?.message}`;\n      this.notify.errorNotification(message);\n    } finally {\n      this.unsetOrdersLoading();\n    }\n  };\n\n  createAgency = async (fields: ICreateOrEditAgencyFormFields) => {\n    this.setEditLoading();\n\n    const newAgency = {\n      ...fields,\n      id: uuid(),\n      createDate: format(new Date(), \"dd.MM.yyyy  HH:mm\"),\n      phones: VMPhonesRequestFormatter(fields.phones),\n    };\n\n    this.setLoadingItem(newAgency.id);\n    const agenciesCopy = this._agencies ? [...this._agencies] : [];\n    runInAction(() => {\n      this._agencies = [newAgency, ...agenciesCopy];\n    });\n\n    try {\n      const agencyItem = await this.service.createAgency(fields);\n\n      runInAction(() => {\n        this._agencies = [agencyItem, ...agenciesCopy];\n      });\n\n      this.notify.successNotification(\n        `Агенство ${agencyItem.agencyName} создано`\n      );\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetEditLoading();\n      this.unsetLoadingItem(newAgency.id);\n    }\n  };\n}\n","import { BaseVM } from \"../BaseVM\";\nimport { makeObservable, observable } from \"mobx\";\n\nimport { IUserEntity } from \"../../../data/entities/User/types\";\nimport { IUserService } from \"../../../data/services/User/types\";\nimport { IUserVM } from \"./types\";\nimport { INotificationsVM } from \"../types\";\n\nexport class UserVM extends BaseVM implements IUserVM {\n  user: IUserEntity | null = null;\n\n  constructor(\n    notificationsVM: INotificationsVM,\n    private service: IUserService\n  ) {\n    super(notificationsVM);\n    makeObservable(this, {\n      user: observable,\n    });\n  }\n\n  login = async () => {\n    this.setLoading();\n    this.unsetError();\n\n    try {\n      await this.service.login();\n      this.notify.successNotification(\"Добро пожаловать!\");\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n\n  logout = async () => {\n    this.setLoading();\n    this.unsetError();\n\n    try {\n      await this.service.logout();\n      this.notify.successNotification(\"До скорых встреч!\");\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n}\n","import { action, makeObservable, observable } from \"mobx\";\nimport { INotification, INotificationsVM } from \"./types\";\n\nexport class NotificationsVM implements INotificationsVM {\n  notification: INotification | null = null;\n\n  constructor() {\n    makeObservable(this, {\n      notification: observable,\n      addNotification: action,\n      removeNotification: action,\n    });\n  }\n\n  successNotification = (message: string): void => {\n    this.addNotification({\n      type: \"success\",\n      message: message,\n    });\n  };\n\n  errorNotification = (message: string): void => {\n    this.addNotification({\n      type: \"error\",\n      message: message,\n    });\n  };\n\n  addNotification = (notification: INotification): void => {\n    this.notification = notification;\n  };\n\n  removeNotification = (): void => {\n    this.notification = null;\n  };\n}\n","import { BaseVM } from \"../BaseVM\";\nimport { IOrderVM } from \"./types\";\nimport { INotificationsVM } from \"../types\";\nimport { action, makeObservable, observable, runInAction } from \"mobx\";\nimport {\n  IOrderItemEntity,\n  IOrderItemRequestParams,\n} from \"../../../data/entities/Order/types\";\nimport { IOrderService } from \"../../../data/services/Order/types\";\n\nexport class OrderVM extends BaseVM implements IOrderVM {\n  orders: IOrderItemEntity[] | null = [];\n\n  constructor(\n    notificationsVM: INotificationsVM,\n    private service: IOrderService\n  ) {\n    super(notificationsVM);\n\n    makeObservable(this, {\n      orders: observable,\n      getList: action,\n    });\n  }\n\n  getList = async (params?: IOrderItemRequestParams): Promise<void> => {\n    this.setLoading();\n    this.unsetError();\n\n    try {\n      const list = await this.service.getList(params);\n\n      runInAction(() => {\n        this.orders = list;\n      });\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n}\n","import { action, makeObservable, observable, runInAction } from \"mobx\";\nimport { BaseVM } from \"../BaseVM\";\nimport { INotificationsVM } from \"../types\";\nimport { ILocalityEntity } from \"src/data/entities/Locality/types\";\nimport { ILocalityService } from \"src/data/services/Locality/types\";\nimport { ILocalityVM } from \"./types\";\n\nexport class LocalityVM extends BaseVM implements ILocalityVM {\n  localities: ILocalityEntity[] | null = null;\n\n  constructor(\n    notificationsVM: INotificationsVM,\n    private service: ILocalityService\n  ) {\n    super(notificationsVM);\n\n    makeObservable(this, {\n      localities: observable,\n      getList: action,\n    });\n  }\n\n  getList = async (): Promise<void> => {\n    this.setLoading();\n    this.unsetError();\n\n    try {\n      const list = await this.service.getList();\n\n      runInAction(() => {\n        this.localities = list;\n      });\n    } catch (err) {\n      this.setError(err);\n    } finally {\n      this.unsetLoading();\n    }\n  };\n}\n","import { IStoreServices, IStoreViewModels, IViewModels } from \"./types\";\nimport { AgencyVM } from \"../view/viewModels/Agency\";\nimport { UserVM } from \"../view/viewModels/User\";\nimport { NotificationsVM } from \"../view/viewModels/NotificationsVM\";\nimport { OrderVM } from \"../view/viewModels/Order\";\nimport { LocalityVM } from \"../view/viewModels/Locality\";\n\nexport class ViewModelsStore implements IStoreViewModels {\n  private store: IViewModels = {};\n\n  get notifications() {\n    if (!this.store.notifications) {\n      this.store.notifications = new NotificationsVM();\n    }\n\n    return this.store.notifications;\n  }\n\n  get agency() {\n    if (!this.store.agency) {\n      this.store.agency = new AgencyVM(\n        this.notifications,\n        this.services.agency,\n        this.services.order\n      );\n    }\n\n    return this.store.agency;\n  }\n\n  get user() {\n    if (!this.store.user) {\n      this.store.user = new UserVM(this.notifications, this.services.user);\n    }\n\n    return this.store.user;\n  }\n\n  get order() {\n    if (!this.store.order) {\n      this.store.order = new OrderVM(this.notifications, this.services.order);\n    }\n\n    return this.store.order;\n  }\n\n  get locality() {\n    if (!this.store.locality) {\n      this.store.locality = new LocalityVM(\n        this.notifications,\n        this.services.locality\n      );\n    }\n\n    return this.store.locality;\n  }\n\n  constructor(private services: IStoreServices) {}\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\n        \"errorBoundaryPage during service worker registration:\",\n        error\n      );\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { VFC } from \"react\";\nimport { Collapse, IconButton, Typography } from \"@mui/material\";\nimport SentimentVeryDissatisfiedOutlinedIcon from \"@mui/icons-material/SentimentVeryDissatisfiedOutlined\";\nimport ExpandLess from \"@mui/icons-material/ExpandLess\";\nimport ExpandMore from \"@mui/icons-material/ExpandMore\";\nimport { Link } from \"react-router5\";\n\nimport { CONSTANTS } from \"src/constants/globalConstants\";\n\nimport css from \"./styles.module.scss\";\nimport { IErrorInfo } from \"./types\";\n\nexport const ErrorInfoComponent: VFC<IErrorInfo> = ({\n  handleExpand,\n  errorInfo,\n  error,\n  expanded,\n}) => {\n  return (\n    <div className={css.errorBoundary}>\n      <Typography align=\"center\" className={css.icon} color=\"error.main\">\n        <SentimentVeryDissatisfiedOutlinedIcon fontSize=\"inherit\" />\n      </Typography>\n\n      <Typography variant=\"h6\" align=\"center\" color=\"error.main\">\n        Произошла ошибка при работе с приложением\n      </Typography>\n\n      <Typography\n        variant=\"subtitle1\"\n        align=\"center\"\n        color=\"error.main\"\n        onClick={handleExpand}\n        className={css.collapseTitle}\n      >\n        {error && error.toString()}\n        <IconButton aria-label=\"expand\">\n          {expanded ? <ExpandLess /> : <ExpandMore />}\n        </IconButton>\n      </Typography>\n\n      <Collapse\n        in={expanded}\n        timeout=\"auto\"\n        unmountOnExit\n        className={css.collapse}\n      >\n        <Typography align=\"center\">{error && error.toString()}</Typography>\n\n        <br />\n\n        <Typography align=\"center\">{errorInfo.componentStack}</Typography>\n      </Collapse>\n\n      <Link routeName={CONSTANTS.defaultRoute}>Перейти на главную</Link>\n    </div>\n  );\n};\n","import React, { ErrorInfo } from \"react\";\nimport { Typography } from \"@mui/material\";\nimport css from \"./styles.module.scss\";\nimport { IProps, IState } from \"./types\";\nimport { ErrorInfoComponent } from \"./components/ErrorInfo/ErrorInfoComponent\";\nimport cn from \"classnames\";\n\nexport class ErrorBoundary extends React.Component<IProps, IState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      error: null,\n      errorInfo: null,\n      expanded: false,\n      offline: !navigator.onLine,\n      timerID: null,\n    };\n  }\n\n  componentDidMount() {\n    const timerID = setInterval(() => {\n      if (!navigator.onLine !== this.state.offline) {\n        this.setState({\n          offline: !navigator.onLine,\n        });\n      }\n    }, 10000);\n\n    this.setState({\n      timerID,\n    });\n  }\n\n  componentWillUnmount() {\n    this.state.timerID && clearInterval(this.state.timerID);\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    this.setState({\n      error: error,\n      errorInfo: errorInfo,\n    });\n    // TODO логирование ошибок (сервер или google analytics) + в InitError тоже\n    console.error(error.name);\n    console.error(error.message);\n    console.error(error.stack);\n  }\n\n  handleExpand = () => {\n    this.setState({ expanded: !this.state.expanded });\n  };\n\n  render() {\n    return (\n      <span\n        className={cn(css.appWrapper, {\n          [css.appWrapper__offline]: this.state.offline,\n        })}\n      >\n        <Typography className={css.notConnectText}>\n          Отсутствует интернет соединение\n        </Typography>\n\n        {this.state.errorInfo ? (\n          <ErrorInfoComponent\n            handleExpand={this.handleExpand}\n            error={this.state.error}\n            errorInfo={this.state.errorInfo}\n            expanded={this.state.expanded}\n          />\n        ) : (\n          this.props.children\n        )}\n      </span>\n    );\n  }\n}\n","import { FC } from \"react\";\nimport { Alert, Snackbar } from \"@mui/material\";\n\nimport { INotify } from \"./types\";\n\nexport const Notify: FC<INotify> = ({ open, onClose, type, message }) => {\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      open={true}\n      autoHideDuration={3000}\n      onClose={onClose}\n    >\n      <Alert\n        variant=\"filled\"\n        severity={type}\n        onClose={onClose}\n        closeText=\"Закрыть\"\n      >\n        {message}\n      </Alert>\n    </Snackbar>\n  );\n};\n","import { FC, lazy, Suspense } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useRoute } from \"react-router5\";\n\nimport { LoadingScreen } from \"./components/common/LoadingScreen\";\nimport { useNotification } from \"./hooks/useNotification\";\nimport { Notify } from \"./components/common/Notify\";\n\nconst UnauthorizedApp = lazy(() => import(\"./UnauthorizedApp\"));\nconst AuthorizedApp = lazy(() => import(\"./AuthorizedApp\"));\n\nexport const App: FC = observer(() => {\n  const { notification, removeNotification } = useNotification();\n\n  const {\n    route: { name },\n  } = useRoute();\n\n  const isUnauthorized = name === \"login\";\n\n  return (\n    <>\n      <Notify\n        open={!!notification}\n        type={notification?.type || \"error\"}\n        message={notification?.message || \"\"}\n        onClose={removeNotification}\n      />\n\n      <Suspense fallback={<LoadingScreen />}>\n        {isUnauthorized ? <UnauthorizedApp /> : <AuthorizedApp />}\n      </Suspense>\n    </>\n  );\n});\n\nexport default App;\n","import { useStore } from \"./useStore\";\nimport { INotificationsVM } from \"../../viewModels/types\";\n\n/**\n * Возвращает запрошенную методы для работы с уведомлениями из хранилища.\n */\nexport const useNotification = (): INotificationsVM =>\n  useStore()[\"notifications\"];\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport reportWebVitals from \"../../reportWebVitals\";\nimport * as serviceWorkerRegistration from \"../../serviceWorkerRegistration\";\nimport {\n  CssBaseline,\n  StyledEngineProvider,\n  ThemeProvider,\n} from \"@mui/material\";\nimport { RouterProvider } from \"react-router5\";\nimport { Router } from \"router5/dist/types/router\";\nimport { IDependencies } from \"../../router/types\";\nimport { Theme } from \"@mui/material/styles/createTheme\";\nimport { ErrorBoundary } from \"./pages/errorBoundaryPage\";\nimport App from \"./App\";\n\ntype IAppInitConfig = {\n  router: Router<IDependencies>;\n  theme: Theme;\n};\n\nexport const initApp = ({ router, theme }: IAppInitConfig) => {\n  ReactDOM.render(\n    <StrictMode>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <StyledEngineProvider injectFirst>\n          {/* @ts-ignore */}\n          <RouterProvider router={router}>\n            <ErrorBoundary>\n              <App />\n            </ErrorBoundary>\n          </RouterProvider>\n        </StyledEngineProvider>\n      </ThemeProvider>\n    </StrictMode>,\n    document.getElementById(\"root\")\n  );\n};\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import ReactDOM from \"react-dom\";\nimport { lazy, StrictMode, Suspense } from \"react\";\nimport { CssBaseline, StyledEngineProvider } from \"@mui/material\";\n\nconst InitErrorPage = lazy(() => import(\"./pages/initError\"));\n\nexport const initErrorApp = (error: unknown) => {\n  ReactDOM.render(\n    <StrictMode>\n      <StyledEngineProvider injectFirst>\n        <CssBaseline />\n        <Suspense fallback={<div>Загрузка...</div>}>\n          <InitErrorPage error={error} />\n        </Suspense>\n      </StyledEngineProvider>\n    </StrictMode>,\n    document.getElementById(\"root\")\n  );\n};\n","export const getCssVar = (varName: string): string => {\n  return getComputedStyle(document.documentElement)\n    .getPropertyValue(varName)\n    .trim();\n};\n","import { createTheme } from \"@mui/material\";\nimport { getCssVar } from \"./getCssVar\";\n\nconst theme = createTheme({\n  palette: {\n    common: {\n      white: getCssVar(\"--yy-white-color\"),\n    },\n    error: {\n      main: getCssVar(\"--yy-error-color\"),\n    },\n    background: {\n      default: getCssVar(\"--yy-default-background\"),\n    },\n  },\n  components: {\n    MuiPaper: {\n      styleOverrides: {\n        root: {\n          borderRadius: 8,\n        },\n      },\n    },\n    MuiAppBar: {\n      styleOverrides: {\n        root: {\n          borderRadius: 0,\n        },\n      },\n    },\n    MuiDrawer: {\n      styleOverrides: {\n        paper: {\n          borderRadius: 0,\n        },\n      },\n    },\n    MuiFormHelperText: {\n      styleOverrides: {\n        root: {\n          marginLeft: 0,\n          marginTop: 0,\n        },\n      },\n    },\n    MuiDivider: {\n      styleOverrides: {\n        root: {\n          backgroundColor: getCssVar(\"--yy-divider-color\"),\n        },\n      },\n    },\n    MuiSnackbar: {\n      styleOverrides: {\n        anchorOriginTopRight: {\n          left: \"auto\",\n          marginLeft: 8,\n\n          \".MuiAlert-message\": {\n            wordBreak: \"break-word\",\n          },\n        },\n      },\n    },\n  },\n  typography: {\n    button: {\n      textTransform: \"none\",\n    },\n  },\n});\n\nexport default theme;\n","import { IDependencies, IRoute } from \"../types\";\n\n/**\n * Кэш роутов.\n */\nlet cache: Record<string, IRoute> = {};\n\nexport const getRouteByToStateName = (\n  toStateName: string,\n  dependencies: IDependencies\n): IRoute | undefined => {\n  // роут не найдет в кэше\n  if (!(toStateName in cache)) {\n    const nameSplit = toStateName.split(\".\");\n\n    let route: IRoute | undefined;\n\n    nameSplit.forEach((name, index) => {\n      if (index === 0) {\n        route = dependencies.routes.find((route) => {\n          return route.name === name;\n        });\n      } else {\n        route = route?.children?.find((route) => {\n          return route.name === name;\n        });\n      }\n    });\n    if (route) {\n      // сохроняем в кэш, если роут найден\n      cache[toStateName] = route;\n    }\n  }\n\n  return cache[toStateName];\n};\n","import createAppRouter from \"./router\";\nimport { ViewModelsInitializer } from \"./store\";\nimport { initApp } from \"./view/UI\";\nimport theme from \"./view/UI/theme\";\nimport { initErrorApp } from \"./view/UI/InitErrorApp\";\nimport routes from \"./router/routes\";\nimport { checkAuthorization, onActivate } from \"./router/middlewaries\";\nimport { documentTitle } from \"./router/middlewaries/documentTitle\";\n\ntry {\n  const BUILD_MODE = process.env.REACT_APP_BUILD_MODE;\n  const NODE_ENV = process.env.NODE_ENV;\n\n  if (\n    BUILD_MODE === \"serve\" ||\n    BUILD_MODE === \"gh-pages\" ||\n    NODE_ENV === \"development\"\n  ) {\n    const { worker } = require(\"./libs/mocks/browser\");\n\n    worker.start({\n      onUnhandledRequest: \"bypass\",\n      serviceWorker: {\n        url: `/${\n          BUILD_MODE === \"gh-pages\" ? \"yul-yort-admin/\" : \"\"\n        }mockServiceWorker.js`,\n      },\n    });\n  }\n\n  const router = createAppRouter(routes, [\n    onActivate,\n    checkAuthorization,\n    documentTitle,\n  ]);\n  const viewModels = new ViewModelsInitializer(router).viewModels;\n\n  router.setDependencies({ store: viewModels, routes });\n  router.start();\n\n  initApp({\n    router,\n    theme,\n  });\n} catch (err) {\n  initErrorApp(err);\n}\n","import createRouter from \"router5\";\nimport browserPlugin from \"router5-plugin-browser\";\nimport { MiddlewareFactory, Router } from \"router5/dist/types/router\";\n\nimport { IDependencies, IRoutes } from \"./types\";\n\nexport default function createAppRouter(\n  routes: IRoutes,\n  middlewares: MiddlewareFactory<IDependencies>[]\n): Router<IDependencies> {\n  const router = createRouter<IDependencies>(routes, {\n    allowNotFound: true,\n    queryParamsMode: \"loose\",\n    autoCleanUp: true,\n  });\n\n  const BUILD_MODE = process.env.REACT_APP_BUILD_MODE;\n\n  router.usePlugin(\n    browserPlugin({\n      useHash: BUILD_MODE === \"serve\" || BUILD_MODE === \"gh-pages\",\n    })\n  );\n\n  middlewares.forEach((middleware) => router.useMiddleware(middleware));\n\n  return router;\n}\n","import { MiddlewareFactory } from \"router5/dist/types/router\";\nimport { IDependencies, IRoute, IRouteWithParams } from \"../types\";\nimport { getRouteByToStateName } from \"./utils\";\n\n/**\n * Плагин вызывает метод onActivate у текущего роута, если данный метод в нем прописан.\n *\n * @param router\n * @param dependencies\n */\nexport const onActivate: MiddlewareFactory<IDependencies> =\n  (router, dependencies) =>\n  (toState): boolean => {\n    let route: IRoute | IRouteWithParams | undefined = getRouteByToStateName(\n      toState.name,\n      dependencies\n    );\n\n    route?.onActivate &&\n      route.onActivate({\n        store: dependencies.store,\n        params: toState.params,\n        router,\n      });\n\n    return true;\n  };\n","import { constants } from \"router5\";\nimport { Middleware, MiddlewareFactory } from \"router5/dist/types/router\";\n\nimport { getRouteByToStateName } from \"./utils\";\nimport { IDependencies, IRoute } from \"../types\";\nimport { checkToken } from \"../../libs/utils/checkToken\";\nimport { CONSTANTS } from \"../../constants/globalConstants\";\n\n/**\n * Плагин проверяет авторизацию.\n * Если текущая страница /login и пользователь авторизован, то перенаправит на\n * страницу по умолчанию (dashboard).\n *\n * Если текущая страница не найдена и пользователь не авторизован,\n * то перенаправит на страницу авторизации.\n *\n * Если текущая страница содежит поле auth и пользователь не авторизован,\n * то перенаправит на страницу авторизации с параметрами текущей страницы.\n *\n * @param router\n * @param dependencies\n */\nexport const checkAuthorization: MiddlewareFactory<IDependencies> =\n  (router, dependencies): Middleware =>\n  (toState, _, done) => {\n    const toStateName = toState.name;\n    let route: IRoute | undefined = getRouteByToStateName(\n      toStateName,\n      dependencies\n    );\n\n    const hasToken = checkToken();\n\n    // Если текущая страница /login, то перенаправит на страницу по умолчанию.\n    if (toStateName === \"login\" && hasToken) {\n      return done({\n        redirect: {\n          name: CONSTANTS.defaultRoute,\n        },\n      });\n    }\n\n    // Если текущая страница не найдена и пользователь не авторизован, то перенаправит на страницу авторизации.\n    if (toStateName === constants.UNKNOWN_ROUTE && !hasToken) {\n      return done({\n        redirect: {\n          name: \"login\",\n        },\n      });\n    }\n\n    // Если текущая страница содежит поле auth и пользователь не авторизован, то перенаправит\n    // на страницу авторизации с параметрами текущей страницы.\n    if (route?.auth && !hasToken) {\n      return done({\n        redirect: {\n          name: \"login\",\n          params: {\n            redirectName: toStateName,\n            redirectParams: toState.params,\n          },\n        },\n      });\n    }\n\n    return true;\n  };\n","import { MiddlewareFactory } from \"router5/dist/types/router\";\nimport { IDependencies, IRoute } from \"../types\";\nimport { CONSTANTS } from \"../../constants/globalConstants\";\nimport { getRouteByToStateName } from \"./utils\";\nimport { setDocumentTitle } from \"../../libs/utils\";\n\n/**\n * Плагин синхронно меняет заголовок документа.\n * Для асинхронной или отложенной замены используйте onActivate в src/router/routes.ts.\n *\n * @param router: Router\n * @param dependencies: IDependencies\n */\nexport const documentTitle: MiddlewareFactory<IDependencies> =\n  (router, dependencies) =>\n  (toState): boolean => {\n    let route: IRoute | undefined = getRouteByToStateName(\n      toState.name,\n      dependencies\n    );\n\n    setDocumentTitle(route?.title || CONSTANTS.projectName);\n\n    return true;\n  };\n","import {\n  IStoreLibs,\n  IStoreRepositories,\n  IStoreServices,\n  IStoreViewModels,\n} from \"./types\";\nimport { LibsStore } from \"./LibsStore\";\nimport { RepositoriesStore } from \"./RepositoriesStore\";\nimport { ServicesStore } from \"./ServicesStore\";\nimport { ViewModelsStore } from \"./ViewModelsStore\";\nimport { Router } from \"router5/dist/types/router\";\nimport { IDependencies } from \"../router/types\";\n\nexport class ViewModelsInitializer {\n  viewModels: IStoreViewModels;\n\n  constructor(router: Router<IDependencies>) {\n    const libs: IStoreLibs = new LibsStore(router);\n    const repositories: IStoreRepositories = new RepositoriesStore(libs);\n    const services: IStoreServices = new ServicesStore(repositories);\n\n    this.viewModels = new ViewModelsStore(services);\n  }\n}\n","import { IAgencyResponseDTO } from \"../../../data/entities/Agency/types\";\n\nexport const agencies: IAgencyResponseDTO[] = [\n  {\n    id: \"1\",\n    phones: [\"+79999999999\", \"80000000000\"],\n    createDate: new Date(1).getTime(),\n    editedDate: new Date().getTime(),\n    description:\n      \"О-о о-о, зеленоглазое такси, о-о о-о, притормози, притормози \\n\" +\n      \"О-о о-о, ты отвези меня туда, о-о о-о, где будут рады мне всегда, всегда, да, да.\",\n    agencyName: \"Зеленоглазое такси\",\n  },\n  {\n    id: \"2\",\n    agencyName: \"Давай подвезём!\",\n    phones: [],\n    createDate: new Date().getTime(),\n    editedDate: new Date().getTime(),\n  },\n  {\n    id: \"3\",\n    agencyName: \"По пути\",\n    phones: [\"+79999999999\"],\n    createDate: new Date().getTime(),\n    editedDate: new Date().getTime(),\n    description: \"Нам с Вами по пути!\",\n  },\n];\n","import { IOrderItemResponseDTO } from \"../../../data/entities/Order/types\";\nimport { ECurrencyISO } from \"../../utils/getCurrency\";\n\nexport const orders: IOrderItemResponseDTO[] = [\n  {\n    id: \"asdf\",\n    route: {\n      id: \"asdfasd\",\n      origin: {\n        id: \"asdf\",\n        name: \"origin\",\n      },\n      destination: {\n        id: \"asdfasf\",\n        name: \"destination\",\n        description: \"description description description\",\n      },\n    },\n    agency: {\n      id: \"1\",\n      agencyName: \"Зеленоглазое такси\",\n      description: \"описание\",\n      phones: [\"+79999999999\", \"80000000000\"],\n    },\n    price: 1000,\n    currencyISO: ECurrencyISO.RUB,\n  },\n  {\n    id: \"234l234l2\",\n    route: {\n      id: \"8789as9df8\",\n      origin: {\n        id: \"asdf\",\n        name: \"origin 1\",\n        description: \"7da9sdf79abfasf as98d7f9 asdf97asd9f a7\",\n      },\n      destination: {\n        id: \"asdfasf\",\n        name: \"destination 1\",\n      },\n      waypoints: [\n        {\n          id: \"098\",\n          name: \"waypoints 1\",\n        },\n        {\n          id: \"677\",\n          name: \"waypoints 2\",\n        },\n      ],\n    },\n    agency: {\n      id: \"2\",\n      agencyName: \"Давай подвезём!\",\n    },\n    price: 1500,\n    currencyISO: ECurrencyISO.RUB,\n  },\n\n  {\n    id: \"234l23234l2\",\n    price: 1,\n    route: {\n      id: \"8789as9df8\",\n      origin: {\n        id: \"asdf\",\n        name: \"origin 1\",\n        description: \"7da9sdf79abfasf as98d7f9 asdf97asd9f a7\",\n      },\n      destination: {\n        id: \"asdfasf\",\n        name: \"destination 1\",\n      },\n      waypoints: [\n        {\n          id: \"098\",\n          name: \"waypoints 1\",\n        },\n        {\n          id: \"677\",\n          name: \"waypoints 2\",\n        },\n      ],\n    },\n    agency: {\n      id: \"3\",\n      agencyName: \"По пути!\",\n      phones: [\"+79999999999\"],\n    },\n    currencyISO: ECurrencyISO.RUB,\n  },\n];\n","import { ILocalityDTO } from \"../../../data/entities/Locality/types\";\n\nexport const localities: ILocalityDTO[] = [\n  {\n    id: \"asdf\",\n    name: \"Баймак\",\n    description: \"баймакский р-н\",\n  },\n  {\n    id: \"223m2\",\n    name: \"Сибай\",\n  },\n  {\n    id: \"5k6764k5\",\n    name: \"Уфа\",\n    description: \"Уфа - столица RNB!\",\n  },\n];\n","/**\n * Возвращает рандомное время для задержки запроса от 0 до 10 сек. .\n *\n * @param delay - переданное время. Если этот аргумент передан, то в качестве задержки будет использоваться переданное значение.\n */\nexport const getTimeout = (delay?: number): number => {\n  if (delay || delay === 0) {\n    return delay;\n  }\n\n  return Math.floor(Math.random() * 3000);\n};\n","import * as cookieUtils from \"cookie\";\nimport { CONSTANTS } from \"../../../constants/globalConstants\";\n\ntype TCookieData = [\n  name: string,\n  value: string,\n  options: cookieUtils.CookieSerializeOptions\n];\n\nexport const getAuthCookie = (method?: \"login\" | \"logout\"): TCookieData => {\n  let expires: Date = new Date();\n  expires.setDate(new Date().getDate() + 1);\n\n  if (method === \"logout\") {\n    expires = new Date(0);\n  }\n\n  return [\n    CONSTANTS.tokenCookieKey,\n    \"abc - 123\",\n    {\n      expires,\n      path: \"/\",\n    },\n  ];\n};\n","import { rest } from \"msw\";\nimport {\n  IAgencyItemResponseDTO,\n  IAgencyResponseDTO,\n} from \"../../data/entities/Agency/types\";\nimport { agencies, localities, orders } from \"./data\";\nimport { getTimeout } from \"./utils/getTimeout\";\nimport { EEndpoints } from \"../../constants/Endpoints\";\nimport { getAuthCookie } from \"./utils/getAuthCookie\";\nimport { v4 as uuid } from \"uuid\";\nimport { IOrderItemResponseDTO } from \"../../data/entities/Order/types\";\nimport { ILocalityDTO } from \"../../data/entities/Locality/types\";\n\nexport const handlers = [\n  rest.get(EEndpoints.AGENCY, (req, res, ctx) => {\n    const url = new URL(req.url);\n    const id = url.searchParams.get(\"id\");\n\n    const result: IAgencyResponseDTO | {} =\n      agencies.find((agency) => agency.id === id) || {};\n    let status = Object.keys(result).length ? 200 : 404;\n\n    return res(\n      ctx.json<IAgencyResponseDTO | {}>(result),\n      ctx.delay(getTimeout()),\n      ctx.status(status)\n    );\n  }),\n\n  rest.post<string>(EEndpoints.AGENCY_EDIT, (req, res, ctx) => {\n    const body = JSON.parse(req.body);\n    const result: IAgencyResponseDTO | {} =\n      agencies.find((agency, index) => {\n        if (agency.id === body.id) {\n          agencies[index] = { ...agency, ...body };\n\n          return true;\n        }\n        return false;\n      }) || {};\n    let status = Object.keys(result).length ? 200 : 404;\n\n    return res(\n      ctx.json<IAgencyResponseDTO>({ ...result, ...body }),\n      ctx.delay(getTimeout()),\n      ctx.status(status)\n    );\n  }),\n\n  rest.delete<string>(EEndpoints.AGENCY_DELETE, (req, res, ctx) => {\n    const body = JSON.parse(req.body);\n    const result: IAgencyResponseDTO | {} =\n      agencies.find((agency, index) => {\n        if (agency.id === body.id) {\n          agencies.splice(index, 1);\n\n          return true;\n        }\n        return false;\n      }) || {};\n    let status = Object.keys(result).length ? 200 : 404;\n\n    return res(\n      ctx.json<IAgencyResponseDTO | {}>(result),\n      ctx.delay(getTimeout()),\n      ctx.status(status)\n    );\n  }),\n\n  rest.get(EEndpoints.AGENCY_LIST, (req, res, ctx) => {\n    return res(\n      ctx.json<IAgencyItemResponseDTO[]>(agencies),\n      ctx.delay(getTimeout()),\n      ctx.status(200)\n    );\n  }),\n\n  rest.post<string>(EEndpoints.AGENCY_CREATE, (req, res, ctx) => {\n    agencies.unshift({ id: uuid(), ...JSON.parse(req.body) });\n\n    return res(\n      ctx.json<IAgencyItemResponseDTO>(agencies[0]),\n      ctx.delay(getTimeout()),\n      ctx.status(200)\n    );\n  }),\n\n  rest.post<string>(EEndpoints.LOGIN, (req, res, ctx) => {\n    return res(\n      ctx.json({}),\n      ctx.delay(getTimeout()),\n      ctx.status(200),\n      ctx.cookie(...getAuthCookie(\"login\"))\n    );\n  }),\n\n  rest.post<string>(EEndpoints.LOGOUT, (req, res, ctx) => {\n    return res(\n      ctx.json({}),\n      ctx.delay(getTimeout()),\n      ctx.status(200),\n      ctx.cookie(...getAuthCookie(\"logout\"))\n    );\n  }),\n\n  rest.get(EEndpoints.ORDERS_LIST, (req, res, ctx) => {\n    return res(\n      ctx.json<IOrderItemResponseDTO[]>(orders),\n      ctx.delay(getTimeout()),\n      ctx.status(200)\n    );\n  }),\n\n  rest.delete<string>(EEndpoints.ORDER_DELETE, (req, res, ctx) => {\n    const id = JSON.parse(req.body);\n    const result = orders.filter((order) => order.id !== id);\n    const status = result.length !== orders.length ? 200 : 404;\n\n    return res(\n      ctx.json<IOrderItemResponseDTO[]>(result),\n      ctx.delay(getTimeout()),\n      ctx.status(status)\n    );\n  }),\n\n  rest.get(EEndpoints.LOCALITY_LIST, (req, res, ctx) => {\n    return res(\n      ctx.json<ILocalityDTO[]>(localities),\n      ctx.delay(getTimeout()),\n      ctx.status(200)\n    );\n  }),\n];\n","import { setupWorker } from 'msw'\nimport { handlers } from './handlers'\n\nexport const worker = setupWorker(...handlers)\n","export const baseUrl = window.location.origin;\n\nexport enum EEndpoints {\n  AGENCY = \"/agency\",\n  AGENCY_EDIT = \"/agency-edit\",\n  AGENCY_DELETE = \"/agency-delete\",\n  AGENCY_LIST = \"/agency-list\",\n  AGENCY_CREATE = \"/agency-create\",\n  LOGIN = \"/login\",\n  LOGOUT = \"/logout\",\n  ORDERS_LIST = \"/order-list\",\n  ORDER_DELETE = \"/order-delete\",\n  LOCALITY_LIST = \"/locality-list\",\n}\n","export const CONSTANTS = {\n  projectName: \"Yul-Yort Admin\",\n  tokenCookieKey: \"auth-token\",\n  defaultRoute: \"dashboard\",\n  numberPattern: /^[1-9]\\d*(\\d+)?$/i,\n};\n","export enum ECurrencyISO {\n  RUB = \"RUB\",\n}\n\nconst CurrenciesDictionary: Record<ECurrencyISO, string> = {\n  [ECurrencyISO.RUB]: \"₽\",\n};\n\nexport const getCurrency = (currency: ECurrencyISO): string => {\n  return CurrenciesDictionary[currency] || currency;\n};\n","import { IFormPhone } from \"./types\";\n\nexport const UIPhonesFormatter = (phones: string[]): IFormPhone[] =>\n  phones.map((phone) => ({ value: phone }));\n\nexport const VMPhonesRequestFormatter = (phones: IFormPhone[]): string[] =>\n  phones.map((phoneValue) => phoneValue.value);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBoundary\":\"styles_errorBoundary__ku-CM\",\"icon\":\"styles_icon__1wOjx\",\"collapse\":\"styles_collapse__i_gGs\",\"collapseTitle\":\"styles_collapseTitle__3CxIt\"};","import { FieldErrors } from \"react-hook-form/dist/types/errors\";\n\nconst ErrorsDictionary: Record<string, string> = {\n  required: \"Обязательное поле\",\n  min: \"Превышена максимальная длина\",\n  max: \"Превышено максимальное значение\",\n  maxLength: \"Превышена максимальная длина\",\n  minLength: \"Меньше допустимой длины\",\n  default: \"Неопознанная ошибка\",\n};\n\nexport const getErrorText = (\n  errors: FieldErrors = {},\n  valuePath: string,\n  index?: number\n): string | undefined => {\n  let error = errors[valuePath];\n\n  if (error && index !== undefined) {\n    error = error[index]?.value;\n  }\n\n  if (!error) {\n    return void 0;\n  }\n\n  return error.message || ErrorsDictionary[error.type] || error.type;\n};\n","export const setDocumentTitle = (title?: string) => {\n  if (title) {\n    document.title = title;\n  }\n};\n","import Cookies from \"js-cookie\";\n\nimport { CONSTANTS } from \"../../constants/globalConstants\";\n\nexport const checkToken = (): boolean => {\n  return !!Cookies.get(CONSTANTS.tokenCookieKey);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"styles_appWrapper__1s6mj\",\"notConnectText\":\"styles_notConnectText__ebZ80\",\"appWrapper__offline\":\"styles_appWrapper__offline__WFAPy\"};","import { IRoutes } from \"./types\";\nimport { CONSTANTS } from \"../constants/globalConstants\";\nimport { setDocumentTitle } from \"../libs/utils\";\n\nconst routes: IRoutes = [\n  {\n    name: \"login\",\n    path: \"/login\",\n    title: \"Авторизация\",\n  },\n  {\n    name: CONSTANTS.defaultRoute,\n    path: \"/\",\n    title: \"Dashboard\",\n    auth: true,\n  },\n  {\n    name: \"agencies\",\n    path: \"/agencies\",\n    title: \"Список агентств\",\n    auth: true,\n    onActivate: async (props) => {\n      if (!props) return;\n\n      const { store } = props;\n      await store.agency.getList();\n    },\n    children: [\n      {\n        name: \"agency\",\n        path: \"/:id\",\n        title: \"Агенство\",\n        auth: true,\n        onActivate: async (props) => {\n          if (!props || !props.params) return;\n\n          const { store, params } = props;\n\n          await store.agency.getAgency(params);\n\n          setDocumentTitle(store.agency.agency?.agencyName);\n        },\n      },\n    ],\n  },\n  {\n    name: \"orders\",\n    path: \"/orders\",\n    title: \"Поездки\",\n    auth: true,\n    onActivate: async (props) => {\n      if (!props) {\n        return;\n      }\n\n      const { store, params } = props;\n\n      await store.order.getList(params);\n    },\n  },\n];\n\nexport default routes;\n"],"sourceRoot":""}